!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SimpleRangeSlider=e():t.SimpleRangeSlider=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.TO_TUMBLER_POSITION=1e4,this.TO_CONNECT_UPDATE=100}return t.prototype.getPositionFromValue=function(t,e){var n=(t-e[0])/(e[1]-e[0]);return(n=Math.round(n*this.TO_TUMBLER_POSITION)/this.TO_TUMBLER_POSITION)<0&&(n=0),n>1&&(n=1),n},t.prototype.getDivElementWithClass=function(t,e){var n="SRS__"+t,i=n+" "+n+"_",o=document.createElement("div");return o.setAttribute("class",i+e),o},t}();e.Helper=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(7),s=n(8),r=function(){function t(t,e){this.container=t,this.userConfig=e;var n=this.container.get(0),r=this.getDefaultaConfig(),a=this.getCompleteConfig(this.userConfig,r),u=this.getModelConfig(a),p=this.getViewConfig(a);this.view=new i.View(n,p),this.model=new o.Model(u),this.presenter=new s.Presenter(this.view,this.model)}return t.prototype.getDefaultaConfig=function(){return{orientation:"horizontal",start:[10],range:[0,100],step:1,connect:!0,tooltip:!0}},t.prototype.getCompleteConfig=function(t,e){return{orientation:void 0===t.orientation?e.orientation:t.orientation,start:void 0===t.start?e.start:t.start,range:void 0===t.range?e.range:t.range,step:void 0===t.step?e.step:t.step,connect:void 0===t.connect?e.connect:t.connect,tooltip:void 0===t.tooltip?e.tooltip:t.tooltip,input:t.input}},t.prototype.getModelConfig=function(t){return{start:t.start,range:t.range,step:t.step}},t.prototype.getViewConfig=function(t){return{orientation:t.orientation,start:t.start,range:t.range,isTooltip:t.tooltip,isConnect:t.connect,input:t.input}},t}();e.SimpleRangeSlider=r,jQuery.fn.extend({SimpleRangeSlider:function(t){return new r(this,t)}})},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),r=n(3),a=n(4),u=n(5),p=n(6),l=function(t){function e(e,n){var i=t.call(this)||this;return i.container=e,i.config=n,i.position=[0],i.range=[0,0],i.start=[0],i.tumbler=[],i.connect=[],i.tooltip=[],i.inputValue=[],i.isTooltip=i.config.isTooltip,i.isConnect=i.config.isConnect,i.orientation=i.config.orientation,i.slider=i.getDivElementWithClass("slider",i.orientation),i.init(),i}return o(e,t),e.prototype.onChangeView=function(t){for(var e=0;e<this.tumbler.length;e++)this.tumbler[e].onMousedownAndMove(this.container,t);if(void 0!==this.inputValue[0])for(e=0;e<this.inputValue.length;e++)this.inputValue[e].onKeydownOrMouseout(t);this.inputTooltip&&this.isTooltip&&this.inputTooltip.onSwitchCheck(this.tooltip)},e.prototype.update=function(t){var e=t.index,n=t.position,i=t.value;this.setActivetumbler(n,e),this.tumbler[e].setNewPosition(n[e]),this.isTooltip&&this.tooltip[e].setInnerText(i[e]),void 0!==this.inputValue[0]&&(this.inputValue[e].element.value=String(i[e])),this.isConnect&&(1===this.position.length?this.connect[0].setPosition(0,n[0]):n[1]&&this.connect[0].setPosition(n[0],n[1]))},e.prototype.setActivetumbler=function(t,e){t.length>1&&(0===e?(this.tumbler[0].element.classList.add("SRS__tumbler_active"),this.tumbler[1].element.classList.remove("SRS__tumbler_active"),this.isTooltip&&(this.tooltip[0].element.classList.add("SRS__tooltip_active"),this.tooltip[1].element.classList.remove("SRS__tooltip_active"))):(this.tumbler[1].element.classList.add("SRS__tumbler_active"),this.tumbler[0].element.classList.remove("SRS__tumbler_active"),this.isTooltip&&(this.tooltip[1].element.classList.add("SRS__tooltip_active"),this.tooltip[0].element.classList.remove("SRS__tooltip_active"))))},e.prototype.init=function(){for(var t=0;t<this.config.range.length;t++)void 0===this.range[t]?this.range.push(this.config.range[t]):this.range[t]=this.config.range[t];for(t=0;t<this.config.start.length;t++)void 0===this.start[t]?this.start.push(this.config.start[t]):this.start[t]=this.config.start[t],void 0===this.position[t]?this.position.push(this.getPositionFromValue(this.start[t],this.range)):this.position[t]=this.getPositionFromValue(this.start[t],this.range);for(t=0;t<this.position.length;t++)this.tumbler.push(new r.Tumbler(this.position[t],this.orientation,t));if(this.isConnect&&(1===this.position.length?this.connect.push(new a.Connect(0,this.position[0],this.orientation)):this.connect.push(new a.Connect(this.position[0],this.position[1],this.orientation)),this.slider.append(this.connect[0].element)),this.isTooltip)for(t=0;t<this.tumbler.length;t++)this.tooltip.push(new u.Tooltip(this.start[t],this.orientation)),this.tumbler[t].element.append(this.tooltip[t].element);for(t=0;t<this.tumbler.length;t++)this.slider.append(this.tumbler[t].element);if(this.container.append(this.slider),void 0!==this.config.input&&void 0!==this.config.input.value)for(t=0;t<this.config.input.value.length;t++)this.inputValue.push(new p.Input("value",this.config.input.value[t],this.config.start[t],t));this.config.input&&this.config.input.tooltip&&(this.inputTooltip=new p.Input("tooltip",this.config.input.tooltip[0]))},e}(s.Helper);e.View=l},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n,i){var o=t.call(this)||this;return o.position=e,o.orientation=n,o.index=i,o.listening=!1,o.element=o.getDivElementWithClass("tumbler",o.orientation),o.setNewPosition(o.position),o}return o(e,t),e.prototype.setNewPosition=function(t){this.position=t;var e="transform: translate"+("horizontal"===this.orientation?"X":"Y")+"("+Math.round(t*this.TO_TUMBLER_POSITION)+"%);";this.element.setAttribute("style",e)},e.prototype.getShift=function(t,e){return"horizontal"===this.orientation?e.clientX-t.getBoundingClientRect().left:e.clientY-t.getBoundingClientRect().top},e.prototype.onMousedownAndMove=function(t,e){var n=this,i=this;i.listening=!0,i.element.addEventListener("mousedown",(function(o){o.preventDefault();var s=n.getShift(i.element,o);function r(n){var o;(o="horizontal"===i.orientation?(n.clientX-s-t.getBoundingClientRect().left)/t.offsetWidth:(n.clientY-s-t.getBoundingClientRect().top)/t.offsetHeight)>1&&(o=1),o<0&&(o=0),e({position:o,index:i.index})}document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function t(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",t)}))}))},e}(n(0).Helper);e.Tumbler=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n,i){var o=t.call(this)||this;return o.startPosition=e,o.endPosition=n,o.orientation=i,o.position=[0,0],o.element=o.getDivElementWithClass("connect",o.orientation),o.setPosition(o.startPosition,o.endPosition),o}return o(e,t),e.prototype.setPosition=function(t,e){var n=Math.round(t*this.TO_CONNECT_UPDATE),i=Math.round(e*this.TO_CONNECT_UPDATE);this.position=[n,i];var o=0===n?"horizontal"===this.orientation?"width: "+i+"%;":"height: "+i+"%;":"horizontal"===this.orientation?"left: "+n+"%; width: "+(i-n)+"%;":"top: "+n+"%; height: "+(i-n)+"%;";this.element.setAttribute("style",o)},e}(n(0).Helper);e.Connect=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n){var i=t.call(this)||this;return i.value=e,i.orientation=n,i.element=i.getDivElementWithClass("tooltip",i.orientation),i.setInnerText(i.value),i}return o(e,t),e.prototype.setInnerText=function(t){var e=t>0?Math.floor(t):Math.ceil(t);this.value=e,this.element.innerText=String(e)},e.prototype.switchHidden=function(t){this.element.hidden=!t},e}(n(0).Helper);e.Tooltip=s},function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n,i,o){var s=t.call(this)||this;return s.type=e,s.element=n,s.value=i,s.index=o,"value"===e&&void 0!==s.value&&(s.element.value=String(s.value)),s}return o(e,t),e.prototype.onKeydownOrMouseout=function(t){var e=this;if("value"!==e.type)return!1;function n(){var n=Number(e.element.value);e.index?t({value:n,index:e.index}):t({value:n,index:0})}e.element.addEventListener("keydown",(function(t){"Tab"!==t.key&&"Enter"!==t.key||n()})),e.element.addEventListener("mouseout",(function(){n()}))},e.prototype.onSwitchCheck=function(t){var e=this;if("tooltip"!==e.type)return!1;e.element.addEventListener("change",(function(){for(var n=0;n<t.length;n++)e.element.checked?t[n].switchHidden(!0):t[n].switchHidden(!1)}))},e}(n(0).Helper);e.Input=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.config=t,this.value=[0],this.range=[0,0],this.step=0,this.position=[0],this.activeIndex=0,this.TO_NORMALIZE_POSITION=1e4,this.callbackList=[],this.step=this.config.step,this.init()}return t.prototype.setNewPosition=function(t){var e=t.index;this.activeIndex=e;var n=this.getNewValue(t);if(this.checkStepCondition(n,e),this.value.length>1&&this.value[1]){if(!(this.value[0]<this.value[1]))return!1;this.update()}else this.update()},t.prototype.getNewValue=function(t){var e,n=t.index,i=this.value[n];void 0!==t.position?(e=Math.round(t.position*this.TO_NORMALIZE_POSITION)/this.TO_NORMALIZE_POSITION,i=this.getValueFromPosition(e,this.range)):void 0!==t.value&&(i=t.value,0===n&&this.value[1]&&i>this.value[1]-this.step&&(i=this.value[1]-this.step),1===n&&i<this.value[0]+this.step&&(i=this.value[0]+this.step));return i},t.prototype.checkStepCondition=function(t,e){var n=[this.value[e]-this.step,this.value[e]+this.step];(t>=n[1]||t<=n[0])&&this.setValueAndPosition(t,e)},t.prototype.update=function(){var t=this;this.callbackList.forEach((function(e){e({position:t.position,value:t.value,index:t.activeIndex})}))},t.prototype.onChangeModel=function(t){this.callbackList.push(t)},t.prototype.getPositionFromValue=function(t,e){var n=(t-e[0])/(e[1]-e[0]);return Math.round(n*this.TO_NORMALIZE_POSITION)/this.TO_NORMALIZE_POSITION},t.prototype.getValueFromPosition=function(t,e){var n=t*(e[1]-e[0])+e[0];return Math.round(n)},t.prototype.setValueAndPosition=function(t,e){this.value[e]=t>0?Math.ceil(t/this.step)*this.step:Math.floor(t/this.step)*this.step,0===e&&this.value[0]<this.range[0]&&(this.value[0]=this.range[0]),1===e&&void 0!==this.value[1]&&this.value[1]>this.range[1]&&(this.value[e]=this.range[1]),this.position[e]=this.getPositionFromValue(this.value[e],this.range)},t.prototype.init=function(){for(var t=0;t<this.config.range.length;t++)void 0===this.range[t]?this.range.push(this.config.range[t]):this.range[t]=this.config.range[t];for(t=0;t<this.config.start.length;t++)void 0===this.value[t]?this.value.push(this.config.start[t]):this.value[t]=this.config.start[t],void 0===this.position[t]?this.position.push(this.getPositionFromValue(this.value[t],this.range)):this.position[t]=this.getPositionFromValue(this.value[t],this.range)},t}();e.Model=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){var n=this;this.view=t,this.model=e,this.view.onChangeView((function(t){n.model.setNewPosition(t)})),this.model.onChangeModel((function(t){n.view.update(t)}))};e.Presenter=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(10),s=function(){function t(t,e,n){this.demo_panel=t,this.slider=e,this.inputs=n,this.template=new o.Template,this.demo_panel.append(this.template.demo_panel),this.empty_slider="#"+e.get(0).id,this.defaultConfig={range:[0,100],start:[10],step:1},this.range_slider=new i.SimpleRangeSlider(this.slider,{range:[-100,100],start:[-50,50],step:10,orientation:"horizontal",connect:!0,tooltip:!0,input:this.inputs});for(var s=[this.template.range_input_min,this.template.range_input_max,this.template.startConfigInput_min,this.template.startConfigInput_max,this.template.step_input,this.template.orientation_input,this.template.connectConfigInput],r=0;r<s.length;r++)this.on_change_input(s[r])}return t.prototype.on_change_input=function(t){var e=this;function n(){var t=[""!==e.template.range_input_min.value?Number(e.template.range_input_min.value):e.defaultConfig.range[0],""!==e.template.range_input_max.value?Number(e.template.range_input_max.value):e.defaultConfig.range[1]],n=""!==e.template.startConfigInput_max.value?[""!==e.template.startConfigInput_min.value?Number(e.template.startConfigInput_min.value):e.defaultConfig.start[0],Number(e.template.startConfigInput_max.value)]:[""!==e.template.startConfigInput_min.value?Number(e.template.startConfigInput_min.value):e.defaultConfig.start[0]],o=""!==e.template.step_input.value?Number(e.template.step_input.value):e.defaultConfig.step,s=e.template.orientation_input.checked?"horizontal":"vertical",r=!!e.template.connectConfigInput.checked;e.slider=$(e.empty_slider).empty(),e.range_slider=new i.SimpleRangeSlider(e.slider,{range:t,start:n,step:o,orientation:s,connect:r,tooltip:!0,input:e.inputs})}t.addEventListener("keydown",(function(t){"Tab"!==t.key&&"Enter"!==t.key||n()})),t.addEventListener("mouseout",(function(){n()})),t.addEventListener("change",(function(){n()}))},t}();e.Demo_Panel=s,jQuery.fn.extend({Demo_Panel:function(t,e){return new s(this,t,e)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=document.createElement("span");t.innerText="Range: ",this.range_input_min=document.createElement("input"),this.range_input_min.setAttribute("type","text"),this.range_input_min.value="-100",this.range_input_max=document.createElement("input"),this.range_input_max.setAttribute("type","text"),this.range_input_max.value="100";var e=document.createElement("div");e.append(t,this.range_input_min,this.range_input_max);var n=document.createElement("span");n.innerText="Start: ",this.startConfigInput_min=document.createElement("input"),this.startConfigInput_min.setAttribute("type","text"),this.startConfigInput_min.value="-50",this.startConfigInput_max=document.createElement("input"),this.startConfigInput_max.setAttribute("type","text"),this.startConfigInput_max.value="50";var i=document.createElement("div");i.append(n,this.startConfigInput_min,this.startConfigInput_max);var o=document.createElement("span");o.innerText="Step: ",this.step_input=document.createElement("input"),this.step_input.setAttribute("type","text"),this.step_input.value="10";var s=document.createElement("div");s.append(o,this.step_input);var r=document.createElement("span");r.innerText="Orientation horizontal/vertical: ",this.orientation_input=document.createElement("input"),this.orientation_input.setAttribute("type","checkbox"),this.orientation_input.checked=!0;var a=document.createElement("div");a.append(r,this.orientation_input);var u=document.createElement("span");u.innerText="Connect on/off: ",this.connectConfigInput=document.createElement("input"),this.connectConfigInput.setAttribute("type","checkbox"),this.connectConfigInput.checked=!0;var p=document.createElement("div");p.append(u,this.connectConfigInput),this.demo_panel=document.createElement("div"),this.demo_panel.append(e,i,s,a,p)};e.Template=i}]).default}));